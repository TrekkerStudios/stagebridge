var Ar=Object.defineProperty;var de=(t,e)=>{for(var r in e)Ar(t,r,{get:e[r],enumerable:!0,configurable:!0,set:(n)=>e[r]=()=>n})};var N={Stringify:1,BeforeStream:2,Stream:3},P=(t,e)=>{let r=new String(t);return r.isEscaped=!0,r.callbacks=e,r},Hr=/[&<>'"]/,It=async(t,e)=>{let r="";e||=[];let n=await Promise.all(t);for(let s=n.length-1;;s--){if(r+=n[s],s--,s<0)break;let i=n[s];if(typeof i==="object")e.push(...i.callbacks||[]);let a=i.isEscaped;if(i=await(typeof i==="object"?i.toString():i),typeof i==="object")e.push(...i.callbacks||[]);if(i.isEscaped??a)r+=i;else{let o=[r];M(i,o),r=o[0]}}return P(r,e)},M=(t,e)=>{let r=t.search(Hr);if(r===-1){e[0]+=t;return}let n,s,i=0;for(s=r;s<t.length;s++){switch(t.charCodeAt(s)){case 34:n="&quot;";break;case 39:n="&#39;";break;case 38:n="&amp;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}e[0]+=t.substring(i,s)+n,i=s+1}e[0]+=t.substring(i,s)},Lt=(t)=>{let e=t.callbacks;if(!e?.length)return t;let r=[t],n={};return e.forEach((s)=>s({phase:N.Stringify,buffer:r,context:n})),r[0]},q=async(t,e,r,n,s)=>{if(typeof t==="object"&&!(t instanceof String)){if(!(t instanceof Promise))t=t.toString();if(t instanceof Promise)t=await t}let i=t.callbacks;if(!i?.length)return Promise.resolve(t);if(s)s[0]+=t;else s=[t];let a=Promise.all(i.map((o)=>o({phase:e,buffer:s,context:n}))).then((o)=>Promise.all(o.filter(Boolean).map((c)=>q(c,e,!1,n,s))).then(()=>s[0]));if(r)return P(await a,i);else return a};var I=Symbol("RENDERER"),G=Symbol("ERROR_HANDLER"),S=Symbol("STASH"),ut=Symbol("INTERNAL"),xt=Symbol("MEMO"),F=Symbol("PERMALINK");var kt=(t)=>{return t[ut]=!0,t};var Mt=(t)=>({value:e,children:r})=>{if(!r)return;let n={children:[{tag:kt(()=>{t.push(e)}),props:{}}]};if(Array.isArray(r))n.children.push(...r.flat());else n.children.push(r);n.children.push({tag:kt(()=>{t.pop()}),props:{}});let s={tag:"",props:n,type:""};return s[G]=(i)=>{throw t.pop(),i},s},vt=(t)=>{let e=[t],r=Mt(e);return r.values=e,r.Provider=r,x.push(r),r};var x=[],j=(t)=>{let e=[t],r=(n)=>{e.push(n.value);let s;try{s=n.children?(Array.isArray(n.children)?new Gt("",{},n.children):n.children).toString():""}finally{e.pop()}if(s instanceof Promise)return s.then((i)=>P(i,i.callbacks));else return P(s)};return r.values=e,r.Provider=r,r[I]=Mt(e),x.push(r),r},T=(t)=>{return t.values.at(-1)};var E={title:[],script:["src"],style:["data-href"],link:["href"],meta:["name","httpEquiv","charset","itemProp"]},D={},W="data-precedence";var et={};de(et,{title:()=>pr,style:()=>Or,script:()=>Cr,meta:()=>Tr,link:()=>br,input:()=>Nr,form:()=>_r,button:()=>$r});var B=(t)=>Array.isArray(t)?t:[t];var me=new WeakMap,ge=(t,e,r,n)=>({buffer:s,context:i})=>{if(!s)return;let a=me.get(i)||{};me.set(i,a);let o=a[t]||=[],c=!1,l=E[t];if(l.length>0)t:for(let[,v]of o)for(let u of l)if((v?.[u]??null)===r?.[u]){c=!0;break t}if(c)s[0]=s[0].replaceAll(e,"");else if(l.length>0)o.push([e,r,n]);else o.unshift([e,r,n]);if(s[0].indexOf("</head>")!==-1){let v;if(n===void 0)v=o.map(([u])=>u);else{let u=[];v=o.map(([h,,m])=>{let d=u.indexOf(m);if(d===-1)u.push(m),d=u.length-1;return[h,d]}).sort((h,m)=>h[1]-m[1]).map(([h])=>h)}v.forEach((u)=>{s[0]=s[0].replaceAll(u,"")}),s[0]=s[0].replace(/(?=<\/head>)/,v.join(""))}},V=(t,e,r)=>P(new _(t,r,B(e??[])).toString()),tt=(t,e,r,n)=>{if("itemProp"in r)return V(t,e,r);let{precedence:s,blocking:i,...a}=r;if(s=n?s??"":void 0,n)a[W]=s;let o=new _(t,a,B(e||[])).toString();if(o instanceof Promise)return o.then((c)=>P(o,[...c.callbacks||[],ge(t,c,a,s)]));else return P(o,[ge(t,o,a,s)])},pr=({children:t,...e})=>{let r=ht();if(r){let n=T(r);if(n==="svg"||n==="head")return new _("title",e,B(t??[]))}return tt("title",t,e,!1)},Cr=({children:t,...e})=>{let r=ht();if(["src","async"].some((n)=>!e[n])||r&&T(r)==="head")return V("script",t,e);return tt("script",t,e,!1)},Or=({children:t,...e})=>{if(!["href","precedence"].every((r)=>(r in e)))return V("style",t,e);return e["data-href"]=e.href,delete e.href,tt("style",t,e,!0)},br=({children:t,...e})=>{if(["onLoad","onError"].some((r)=>(r in e))||e.rel==="stylesheet"&&(!("precedence"in e)||("disabled"in e)))return V("link",t,e);return tt("link",t,e,"precedence"in e)},Tr=({children:t,...e})=>{let r=ht();if(r&&T(r)==="head")return V("meta",t,e);return tt("meta",t,e,!1)},ye=(t,{children:e,...r})=>new _(t,r,B(e??[])),_r=(t)=>{if(typeof t.action==="function")t.action=F in t.action?t.action[F]:void 0;return ye("form",t)},we=(t,e)=>{if(typeof e.formAction==="function")e.formAction=F in e.formAction?e.formAction[F]:void 0;return ye(t,e)},Nr=(t)=>we("input",t),$r=(t)=>we("button",t);var Ir=new Map([["className","class"],["htmlFor","for"],["crossOrigin","crossorigin"],["httpEquiv","http-equiv"],["itemProp","itemprop"],["fetchPriority","fetchpriority"],["noModule","nomodule"],["formAction","formaction"]]),z=(t)=>Ir.get(t)||t,dt=(t,e)=>{for(let[r,n]of Object.entries(t)){let s=r[0]==="-"||!/[A-Z]/.test(r)?r:r.replace(/[A-Z]/g,(i)=>`-${i.toLowerCase()}`);e(s,n==null?null:typeof n==="number"?!s.match(/^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/)?`${n}px`:`${n}`:n)}};var rt=void 0,ht=()=>rt,Lr=(t)=>/[A-Z]/.test(t)&&t.match(/^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/)?t.replace(/([A-Z])/g,"-$1").toLowerCase():t,xr=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],kr=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Bt=(t,e)=>{for(let r=0,n=t.length;r<n;r++){let s=t[r];if(typeof s==="string")M(s,e);else if(typeof s==="boolean"||s===null||s===void 0)continue;else if(s instanceof _)s.toStringToBuffer(e);else if(typeof s==="number"||s.isEscaped)e[0]+=s;else if(s instanceof Promise)e.unshift("",s);else Bt(s,e)}},_=class{tag;props;key;children;isEscaped=!0;localContexts;constructor(t,e,r){this.tag=t,this.props=e,this.children=r}get type(){return this.tag}get ref(){return this.props.ref||null}toString(){let t=[""];this.localContexts?.forEach(([e,r])=>{e.values.push(r)});try{this.toStringToBuffer(t)}finally{this.localContexts?.forEach(([e])=>{e.values.pop()})}return t.length===1?"callbacks"in t?Lt(P(t[0],t.callbacks)).toString():t[0]:It(t,t.callbacks)}toStringToBuffer(t){let e=this.tag,r=this.props,{children:n}=this;t[0]+=`<${e}`;let s=rt&&T(rt)==="svg"?(i)=>Lr(z(i)):(i)=>z(i);for(let[i,a]of Object.entries(r))if(i=s(i),i==="children");else if(i==="style"&&typeof a==="object"){let o="";dt(a,(c,l)=>{if(l!=null)o+=`${o?";":""}${c}:${l}`}),t[0]+=' style="',M(o,t),t[0]+='"'}else if(typeof a==="string")t[0]+=` ${i}="`,M(a,t),t[0]+='"';else if(a===null||a===void 0);else if(typeof a==="number"||a.isEscaped)t[0]+=` ${i}="${a}"`;else if(typeof a==="boolean"&&kr.includes(i)){if(a)t[0]+=` ${i}=""`}else if(i==="dangerouslySetInnerHTML"){if(n.length>0)throw"Can only set one of `children` or `props.dangerouslySetInnerHTML`.";n=[P(a.__html)]}else if(a instanceof Promise)t[0]+=` ${i}="`,t.unshift('"',a);else if(typeof a==="function"){if(!i.startsWith("on"))throw`Invalid prop '${i}' of type 'function' supplied to '${e}'.`}else t[0]+=` ${i}="`,M(a.toString(),t),t[0]+='"';if(xr.includes(e)&&n.length===0){t[0]+="/>";return}t[0]+=">",Bt(n,t),t[0]+=`</${e}>`}},qt=class extends _{toStringToBuffer(t){let{children:e}=this,r=this.tag.call(null,{...this.props,children:e.length<=1?e[0]:e});if(typeof r==="boolean"||r==null)return;else if(r instanceof Promise)if(x.length===0)t.unshift("",r);else{let n=x.map((s)=>[s,s.values.at(-1)]);t.unshift("",r.then((s)=>{if(s instanceof _)s.localContexts=n;return s}))}else if(r instanceof _)r.toStringToBuffer(t);else if(typeof r==="number"||r.isEscaped){if(t[0]+=r,r.callbacks)t.callbacks||=[],t.callbacks.push(...r.callbacks)}else M(r,t)}},Gt=class extends _{toStringToBuffer(t){Bt(this.children,t)}};var Se=!1,mt=(t,e,r)=>{if(!Se){for(let n in D)et[n][I]=D[n];Se=!0}if(typeof t==="function")return new qt(t,e,r);else if(et[t])return new qt(et[t],e,r);else if(t==="svg"||t==="head")return rt||=j(""),new _(t,e,[new qt(rt,{value:t},r)]);else return new _(t,e,r)};var Q=({children:t})=>{return new Gt("",{children:t},Array.isArray(t)?t:t?[t]:[])};var St={};de(St,{title:()=>Ge,style:()=>Be,script:()=>qe,meta:()=>Fe,link:()=>Ue,input:()=>Qe,form:()=>We,composeRef:()=>wt,clearCache:()=>Kr,button:()=>Ze});var st="_hp",Mr={Change:"Input",DoubleClick:"DblClick"},Gr={svg:"2000/svg",math:"1998/Math/MathML"},L=[],Ft=new WeakMap,Z=void 0,Oe=()=>Z,k=(t)=>("t"in t),Ut={onClick:["click",!1]},Re=(t)=>{if(!t.startsWith("on"))return;if(Ut[t])return Ut[t];let e=t.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);if(e){let[,r,n]=e;return Ut[t]=[(Mr[r]||r).toLowerCase(),!!n]}return},Pe=(t,e)=>Z&&t instanceof SVGElement&&/[A-Z]/.test(e)&&((e in t.style)||e.match(/^(?:o|pai|str|u|ve)/))?e.replace(/([A-Z])/g,"-$1").toLowerCase():e,qr=(t,e,r)=>{e||={};for(let n in e){let s=e[n];if(n!=="children"&&(!r||r[n]!==s)){n=z(n);let i=Re(n);if(i){if(r?.[n]!==s){if(r)t.removeEventListener(i[0],r[n],i[1]);if(s!=null){if(typeof s!=="function")throw new Error(`Event handler for "${n}" is not a function`);t.addEventListener(i[0],s,i[1])}}}else if(n==="dangerouslySetInnerHTML"&&s)t.innerHTML=s.__html;else if(n==="ref"){let a;if(typeof s==="function")a=s(t)||(()=>s(null));else if(s&&"current"in s)s.current=t,a=()=>s.current=null;Ft.set(t,a)}else if(n==="style"){let a=t.style;if(typeof s==="string")a.cssText=s;else if(a.cssText="",s!=null)dt(s,a.setProperty.bind(a))}else{if(n==="value"){let o=t.nodeName;if(o==="INPUT"||o==="TEXTAREA"||o==="SELECT"){if(t.value=s===null||s===void 0||s===!1?null:s,o==="TEXTAREA"){t.textContent=s;continue}else if(o==="SELECT"){if(t.selectedIndex===-1)t.selectedIndex=0;continue}}}else if(n==="checked"&&t.nodeName==="INPUT"||n==="selected"&&t.nodeName==="OPTION")t[n]=s;let a=Pe(t,n);if(s===null||s===void 0||s===!1)t.removeAttribute(a);else if(s===!0)t.setAttribute(a,"");else if(typeof s==="string"||typeof s==="number")t.setAttribute(a,s);else t.setAttribute(a,s.toString())}}}if(r)for(let n in r){let s=r[n];if(n!=="children"&&!(n in e)){n=z(n);let i=Re(n);if(i)t.removeEventListener(i[0],s,i[1]);else if(n==="ref")Ft.get(t)?.();else t.removeAttribute(Pe(t,n))}}},Br=(t,e)=>{e[S][0]=0,L.push([t,e]);let r=e.tag[I]||e.tag,n=r.defaultProps?{...r.defaultProps,...e.props}:e.props;try{return[r.call(null,n)]}finally{L.pop()}},be=(t,e,r,n,s)=>{if(t.vR?.length)n.push(...t.vR),delete t.vR;if(typeof t.tag==="function")t[S][1][Wt]?.forEach((i)=>s.push(i));t.vC.forEach((i)=>{if(k(i))r.push(i);else if(typeof i.tag==="function"||i.tag===""){i.c=e;let a=r.length;if(be(i,e,r,n,s),i.s){for(let o=a;o<r.length;o++)r[o].s=!0;i.s=!1}}else if(r.push(i),i.vR?.length)n.push(...i.vR),delete i.vR})},Ur=(t)=>{for(;;t=t.tag===st||!t.vC||!t.pP?t.nN:t.vC[0]){if(!t)return null;if(t.tag!==st&&t.e)return t.e}},Te=(t)=>{if(!k(t)){if(t[S]?.[1][Wt]?.forEach((e)=>e[2]?.()),Ft.get(t.e)?.(),t.p===2)t.vC?.forEach((e)=>e.p=2);t.vC?.forEach(Te)}if(!t.p)t.e?.remove(),delete t.e;if(typeof t.tag==="function")nt.delete(t),gt.delete(t),delete t[S][3],t.a=!0},_e=(t,e,r)=>{t.c=e,Ne(t,e,r)},Ae=(t,e)=>{if(!e)return;for(let r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return},He=Symbol(),Ne=(t,e,r)=>{let n=[],s=[],i=[];be(t,e,n,s,i),s.forEach(Te);let a=r?void 0:e.childNodes,o,c=null;if(r)o=-1;else if(!a.length)o=0;else{let l=Ae(a,Ur(t.nN));if(l!==void 0)c=a[l],o=l;else o=Ae(a,n.find((v)=>v.tag!==st&&v.e)?.e)??-1;if(o===-1)r=!0}for(let l=0,v=n.length;l<v;l++,o++){let u=n[l],h;if(u.s&&u.e)h=u.e,u.s=!1;else{let m=r||!u.e;if(k(u)){if(u.e&&u.d)u.e.textContent=u.t;u.d=!1,h=u.e||=document.createTextNode(u.t)}else h=u.e||=u.n?document.createElementNS(u.n,u.tag):document.createElement(u.tag),qr(h,u.props,u.pP),Ne(u,h,m)}if(u.tag===st)o--;else if(r){if(!h.parentNode)e.appendChild(h)}else if(a[o]!==h&&a[o-1]!==h)if(a[o+1]===h)e.appendChild(a[o]);else e.insertBefore(h,c||a[o]||null)}if(t.pP)delete t.pP;if(i.length){let l=[],v=[];if(i.forEach(([,u,,h,m])=>{if(u)l.push(u);if(h)v.push(h);m?.()}),l.forEach((u)=>u()),v.length)requestAnimationFrame(()=>{v.forEach((u)=>u())})}},Fr=(t,e)=>!!(t&&t.length===e.length&&t.every((r,n)=>r[1]===e[n][1])),gt=new WeakMap,Et=(t,e,r)=>{let n=!r&&e.pC;if(r)e.pC||=e.vC;let s;try{if(r||=typeof e.tag=="function"?Br(t,e):B(e.props.children),r[0]?.tag===""&&r[0][G])s=r[0][G],t[5].push([t,s,e]);let i=n?[...e.pC]:e.vC?[...e.vC]:void 0,a=[],o;for(let c=0;c<r.length;c++){if(Array.isArray(r[c]))r.splice(c,1,...r[c].flat());let l=Er(r[c]);if(l){if(typeof l.tag==="function"&&!l.tag[ut]){if(x.length>0)l[S][2]=x.map((u)=>[u,u.values.at(-1)]);if(t[5]?.length)l[S][3]=t[5].at(-1)}let v;if(i&&i.length){let u=i.findIndex(k(l)?(h)=>k(h):l.key!==void 0?(h)=>h.key===l.key&&h.tag===l.tag:(h)=>h.tag===l.tag);if(u!==-1)v=i[u],i.splice(u,1)}if(v)if(k(l)){if(v.t!==l.t)v.t=l.t,v.d=!0;l=v}else{let u=v.pP=v.props;if(v.props=l.props,v.f||=l.f||e.f,typeof l.tag==="function"){let h=v[S][2];if(v[S][2]=l[S][2]||[],v[S][3]=l[S][3],!v.f&&((v.o||v)===l.o||v.tag[xt]?.(u,v.props))&&Fr(h,v[S][2]))v.s=!0}l=v}else if(!k(l)&&Z){let u=T(Z);if(u)l.n=u}if(!k(l)&&!l.s)Et(t,l),delete l.f;if(a.push(l),o&&!o.s&&!l.s)for(let u=o;u&&!k(u);u=u.vC?.at(-1))u.nN=l;o=l}}if(e.vR=n?[...e.vC,...i||[]]:i||[],e.vC=a,n)delete e.pC}catch(i){if(e.f=!0,i===He)if(s)return;else throw i;let[a,o,c]=e[S]?.[3]||[];if(o){let l=()=>it([0,!1,t[2]],c),v=gt.get(c)||[];v.push(l),gt.set(c,v);let u=o(i,()=>{let h=gt.get(c);if(h){let m=h.indexOf(l);if(m!==-1)return h.splice(m,1),l()}});if(u){if(t[0]===1)t[1]=!0;else if(Et(t,c,[u]),(o.length===1||t!==a)&&c.c){_e(c,c.c,!1);return}throw He}}throw i}finally{if(s)t[5].pop()}},Er=(t)=>{if(t===void 0||t===null||typeof t==="boolean")return;else if(typeof t==="string"||typeof t==="number")return{t:t.toString(),d:!0};else{if("vR"in t)t={tag:t.tag,props:t.props,key:t.key,f:t.f,type:t.tag,ref:t.props.ref,o:t.o||t};if(typeof t.tag==="function")t[S]=[0,[]];else{let e=Gr[t.tag];if(e)Z||=vt(""),t.props.children=[{tag:Z,props:{value:t.n=`http://www.w3.org/${e}`,children:t.props.children}}]}return t}};var pe=(t,e)=>{e[S][2]?.forEach(([r,n])=>{r.values.push(n)});try{Et(t,e,void 0)}catch{return}if(e.a){delete e.a;return}if(e[S][2]?.forEach(([r])=>{r.values.pop()}),t[0]!==1||!t[1])_e(e,e.c,!1)},nt=new WeakMap,Ce=[],it=async(t,e)=>{t[5]||=[];let r=nt.get(e);if(r)r[0](void 0);let n,s=new Promise((i)=>n=i);if(nt.set(e,[n,()=>{if(t[2])t[2](t,e,(i)=>{pe(i,e)}).then(()=>n(e));else pe(t,e),n(e)}]),Ce.length)Ce.at(-1).add(e);else{await Promise.resolve();let i=nt.get(e);if(i)nt.delete(e),i[1]()}return s};var $e=(t,e,r)=>({tag:st,props:{children:t},key:r,e,p:1});var Wr=0,Wt=1,zr=2,Qr=3;var zt=new WeakMap,Le=(t,e)=>!t||!e||t.length!==e.length||e.some((r,n)=>r!==t[n]);var Zr=void 0;var Ie=[];var yt=(t)=>{let e=()=>typeof t==="function"?t():t,r=L.at(-1);if(!r)return[e(),()=>{}];let[,n]=r,s=n[S][1][Wr]||=[],i=n[S][0]++;return s[i]||=[e(),(a)=>{let o=Zr,c=s[i];if(typeof a==="function")a=a(c[0]);if(!Object.is(a,c[0]))if(c[0]=a,Ie.length){let[l,v]=Ie.at(-1);Promise.all([l===3?n:it([l,!1,o],n),v]).then(([u])=>{if(!u||!(l===2||l===3))return;let h=u.vC;requestAnimationFrame(()=>{setTimeout(()=>{if(h!==u.vC)return;it([l===3?1:0,!1,o],u)})})})}else it([0,!1,o],n)}]};var K=(t,e)=>{let r=L.at(-1);if(!r)return t;let[,n]=r,s=n[S][1][zr]||=[],i=n[S][0]++,a=s[i];if(Le(a?.[1],e))s[i]=[t,e];else t=s[i][0];return t};var Qt=(t)=>{let e=zt.get(t);if(e){if(e.length===2)throw e[1];return e[0]}throw t.then((r)=>zt.set(t,[r]),(r)=>zt.set(t,[void 0,r])),t},Zt=(t,e)=>{let r=L.at(-1);if(!r)return t();let[,n]=r,s=n[S][1][Qr]||=[],i=n[S][0]++,a=s[i];if(Le(a?.[1],e))s[i]=[t(),e];return s[i][0]};var ke=vt({pending:!1,data:null,method:null,action:null}),xe=new Set,Me=(t)=>{xe.add(t),t.finally(()=>xe.delete(t))};var Kr=()=>{Kt=Object.create(null),Xt=Object.create(null)},wt=(t,e)=>{return Zt(()=>(r)=>{let n;if(t){if(typeof t==="function")n=t(r)||(()=>{t(null)});else if(t&&"current"in t)t.current=r,n=()=>{t.current=null}}let s=e(r);return()=>{s?.(),n?.()}},[t])},Kt=Object.create(null),Xt=Object.create(null),at=(t,e,r,n,s)=>{if(e?.itemProp)return{tag:t,props:e,type:t,ref:e.ref};let i=document.head,{onLoad:a,onError:o,precedence:c,blocking:l,...v}=e,u=null,h=!1,m=E[t],d=void 0;if(m.length>0){let R=i.querySelectorAll(t);t:for(let y of R)for(let w of E[t])if(y.getAttribute(w)===e[w]){u=y;break t}if(!u){let y=m.reduce((w,C)=>e[C]===void 0?w:`${w}-${C}-${e[C]}`,t);h=!Xt[y],u=Xt[y]||=(()=>{let w=document.createElement(t);for(let C of m){if(e[C]!==void 0)w.setAttribute(C,e[C]);if(e.rel)w.setAttribute("rel",e.rel)}return w})()}}else d=i.querySelectorAll(t);if(c=n?c??"":void 0,n)v[W]=c;let g=K((R)=>{if(m.length>0){let y=!1;for(let w of i.querySelectorAll(t)){if(y&&w.getAttribute(W)!==c){i.insertBefore(R,w);return}if(w.getAttribute(W)===c)y=!0}i.appendChild(R)}else if(d){let y=!1;for(let w of d)if(w===R){y=!0;break}if(!y)i.insertBefore(R,i.contains(d[0])?d[0]:i.querySelector(t));d=void 0}},[c]),H=wt(e.ref,(R)=>{let y=m[0];if(r===2)R.innerHTML="";if(h||d)g(R);if(!o&&!a)return;let w=Kt[R.getAttribute(y)]||=new Promise((C,$)=>{R.addEventListener("load",C),R.addEventListener("error",$)});if(a)w=w.then(a);if(o)w=w.catch(o);w.catch(()=>{})});if(s&&l==="render"){let R=E[t][0];if(e[R]){let y=e[R],w=Kt[y]||=new Promise((C,$)=>{g(u),u.addEventListener("load",C),u.addEventListener("error",$)});Qt(w)}}let p={tag:t,type:t,props:{...v,ref:H},ref:H};if(p.p=r,u)p.e=u;return $e(p,i)},Ge=(t)=>{let e=Oe();if((e&&T(e))?.endsWith("svg"))return{tag:"title",props:t,type:"title",ref:t.ref};return at("title",t,void 0,!1,!1)},qe=(t)=>{if(!t||["src","async"].some((e)=>!t[e]))return{tag:"script",props:t,type:"script",ref:t.ref};return at("script",t,1,!1,!0)},Be=(t)=>{if(!t||!["href","precedence"].every((e)=>(e in t)))return{tag:"style",props:t,type:"style",ref:t.ref};return t["data-href"]=t.href,delete t.href,at("style",t,2,!0,!0)},Ue=(t)=>{if(!t||["onLoad","onError"].some((e)=>(e in t))||t.rel==="stylesheet"&&(!("precedence"in t)||("disabled"in t)))return{tag:"link",props:t,type:"link",ref:t.ref};return at("link",t,1,"precedence"in t,!0)},Fe=(t)=>{return at("meta",t,void 0,!1,!1)},Ee=Symbol(),We=(t)=>{let{action:e,...r}=t;if(typeof e!=="function")r.action=e;let[n,s]=yt([null,!1]),i=K(async(l)=>{let v=l.isTrusted?e:l.detail[Ee];if(typeof v!=="function")return;l.preventDefault();let u=new FormData(l.target);s([u,!0]);let h=v(u);if(h instanceof Promise)Me(h),await h;s([null,!0])},[]),a=wt(t.ref,(l)=>{return l.addEventListener("submit",i),()=>{l.removeEventListener("submit",i)}}),[o,c]=n;return n[1]=!1,{tag:ke,props:{value:{pending:o!==null,data:o,method:o?"post":null,action:o?e:null},children:{tag:"form",props:{...r,ref:a},type:"form",ref:a}},f:c}},ze=(t,{formAction:e,...r})=>{if(typeof e==="function"){let n=K((s)=>{s.preventDefault(),s.currentTarget.form.dispatchEvent(new CustomEvent("submit",{detail:{[Ee]:e}}))},[]);r.ref=wt(r.ref,(s)=>{return s.addEventListener("click",n),()=>{s.removeEventListener("click",n)}})}return{tag:t,props:r,type:t,ref:r.ref}},Qe=(t)=>ze("input",t),Ze=(t)=>ze("button",t);Object.assign(D,{title:Ge,script:qe,style:Be,link:Ue,meta:Fe,form:We,input:Qe,button:Ze});var Yt=(t,e,r)=>{if(typeof t==="string"&&St[t])t=St[t];return{tag:t,type:t,props:e,key:r,ref:e.ref}},Rt=(t)=>Yt("",t,void 0);var Ke=({children:t,fallback:e,fallbackRender:r,onError:n})=>{let s=Rt({children:t});return s[G]=(i)=>{if(i instanceof Promise)throw i;return n?.(i),r?.(i)||e},s},Xe=({children:t,fallback:e})=>{let r=Rt({children:t});return r[G]=(n,s)=>{if(!(n instanceof Promise))throw n;return n.finally(s),e},r};var Jt=j(null),Xr=0,Ye=async({children:t,fallback:e})=>{if(!t)return e.toString();if(!Array.isArray(t))t=[t];let r=T(Jt)?.scriptNonce,n=[],s={[S]:[0,[]]},i=(a)=>{return L.pop(),a};try{s[S][0]=0,L.push([[],s]),n=t.map((a)=>a==null||typeof a==="boolean"?"":a.toString())}catch(a){if(a instanceof Promise)n=[a.then(()=>{return s[S][0]=0,L.push([[],s]),Pt(t).then(i)})];else throw a}finally{i()}if(n.some((a)=>a instanceof Promise)){let a=Xr++,o=await e.toString();return P(`<template id="H:${a}"></template>${o}<!--/$-->`,[...o.callbacks||[],({phase:c,buffer:l,context:v})=>{if(c===N.BeforeStream)return;return Promise.all(n).then(async(u)=>{u=u.flat();let h=u.join("");if(l)l[0]=l[0].replace(new RegExp(`<template id="H:${a}"></template>.*?<!--/\\$-->`),h);let m=l?"":`<template data-hono-target="H:${a}">${h}</template><script${r?` nonce="${r}"`:""}>
((d,c,n) => {
c=d.currentScript.previousSibling
d=d.getElementById('H:${a}')
if(!d)return
do{n=d.nextSibling;n.remove()}while(n.nodeType!=8||n.nodeValue!='/$')
d.replaceWith(c.content)
})(document)
</script>`,d=u.map((g)=>g.callbacks||[]).flat();if(!d.length)return m;if(c===N.Stream)m=await q(m,N.BeforeStream,!0,v);return P(m,d)})}])}else return P(n.join(""))};Ye[I]=Xe;var Yr=0,Pt=async(t)=>{try{return t.flat().map((e)=>e==null||typeof e==="boolean"?"":e.toString())}catch(e){if(e instanceof Promise)return await e,Pt(t);else throw e}},Je=async({children:t,fallback:e,fallbackRender:r,onError:n})=>{if(!t)return P("");if(!Array.isArray(t))t=[t];let s=T(Jt)?.scriptNonce,i,a=(c)=>{return n?.(c),(i||r?.(c)||"").toString()},o=[];try{o=t.map((c)=>c==null||typeof c==="boolean"?"":c.toString())}catch(c){if(i=await e?.toString(),c instanceof Promise)o=[c.then(()=>Pt(t)).catch((l)=>a(l))];else o=[a(c)]}if(o.some((c)=>c instanceof Promise)){i||=await e?.toString();let c=Yr++,l=RegExp(`(<template id="E:${c}"></template>.*?)(.*?)(<!--E:${c}-->)`),v=!1,u=({error:d,buffer:g})=>{if(v)return"";let H=a(d);if(g)g[0]=g[0].replace(l,H);return g?"":`<template data-hono-target="E:${c}">${H}</template><script>
((d,c,n) => {
c=d.currentScript.previousSibling
d=d.getElementById('E:${c}')
if(!d)return
do{n=d.nextSibling;n.remove()}while(n.nodeType!=8||n.nodeValue!='E:${c}')
d.replaceWith(c.content)
})(document)
</script>`},h,m=Promise.all(o).catch((d)=>h=d);return P(`<template id="E:${c}"></template><!--E:${c}-->`,[({phase:d,buffer:g,context:H})=>{if(d===N.BeforeStream)return;return m.then(async(p)=>{if(h)throw h;p=p.flat();let R=p.join(""),y=g?"":`<template data-hono-target="E:${c}">${R}</template><script${s?` nonce="${s}"`:""}>
((d,c) => {
c=d.currentScript.previousSibling
d=d.getElementById('E:${c}')
if(!d)return
d.parentElement.insertBefore(c.content,d.nextSibling)
})(document)
</script>`;if(p.every((O)=>!O.callbacks?.length)){if(g)g[0]=g[0].replace(l,R);return y}if(g)g[0]=g[0].replace(l,(O,J,b,ft)=>`${J}${R}${ft}`);let w=p.map((O)=>O.callbacks||[]).flat();if(d===N.Stream)y=await q(y,N.BeforeStream,!0,H);let C=0,$=w.map((O)=>(...J)=>O(...J)?.then((b)=>{if(C++,g){if(C===w.length)g[0]=g[0].replace(l,(ft,Rr,Pr)=>Pr);return g[0]+=b,P("",b.callbacks)}return P(b+(C!==w.length?"":`<script>
((d,c,n) => {
d=d.getElementById('E:${c}')
if(!d)return
n=d.nextSibling
while(n.nodeType!=8||n.nodeValue!='E:${c}'){n=n.nextSibling}
n.remove()
d.remove()
})(document)
</script>`),b.callbacks)}).catch((b)=>u({error:b,buffer:g})));return P(y,$)}).catch((p)=>u({error:p,buffer:g}))}])}else return P(o.join(""))};Je[I]=Ke;var Dt=(t,e,r)=>{return(n,s)=>{let i=-1;return a(0);async function a(o){if(o<=i)throw new Error("next() called multiple times");i=o;let c,l=!1,v;if(t[o])v=t[o][0][0],n.req.routeIndex=o;else v=o===t.length&&s||void 0;if(v)try{c=await v(n,()=>a(o+1))}catch(u){if(u instanceof Error&&e)n.error=u,c=await e(u,n),l=!0;else throw u}else if(n.finalized===!1&&r)c=await r(n);if(c&&(n.finalized===!1||l))n.res=c;return n}}};var je=Symbol();var De=async(t,e=Object.create(null))=>{let{all:r=!1,dot:n=!1}=e,i=(t instanceof At?t.raw.headers:t.headers).get("Content-Type");if(i?.startsWith("multipart/form-data")||i?.startsWith("application/x-www-form-urlencoded"))return Jr(t,{all:r,dot:n});return{}};async function Jr(t,e){let r=await t.formData();if(r)return jr(r,e);return{}}function jr(t,e){let r=Object.create(null);if(t.forEach((n,s)=>{if(!(e.all||s.endsWith("[]")))r[s]=n;else Dr(r,s,n)}),e.dot)Object.entries(r).forEach(([n,s])=>{if(n.includes("."))Vr(r,n,s),delete r[n]});return r}var Dr=(t,e,r)=>{if(t[e]!==void 0)if(Array.isArray(t[e]))t[e].push(r);else t[e]=[t[e],r];else if(!e.endsWith("[]"))t[e]=r;else t[e]=[r]},Vr=(t,e,r)=>{let n=t,s=e.split(".");s.forEach((i,a)=>{if(a===s.length-1)n[i]=r;else{if(!n[i]||typeof n[i]!=="object"||Array.isArray(n[i])||n[i]instanceof File)n[i]=Object.create(null);n=n[i]}})};var te=(t)=>{let e=t.split("/");if(e[0]==="")e.shift();return e},Ve=(t)=>{let{groups:e,path:r}=tn(t),n=te(r);return en(n,e)},tn=(t)=>{let e=[];return t=t.replace(/\{[^}]+\}/g,(r,n)=>{let s=`@${n}`;return e.push([s,r]),s}),{groups:e,path:t}},en=(t,e)=>{for(let r=e.length-1;r>=0;r--){let[n]=e[r];for(let s=t.length-1;s>=0;s--)if(t[s].includes(n)){t[s]=t[s].replace(n,e[r][1]);break}}return t},Ht={},tr=(t,e)=>{if(t==="*")return"*";let r=t.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){let n=`${t}#${e}`;if(!Ht[n])if(r[2])Ht[n]=e&&e[0]!==":"&&e[0]!=="*"?[n,r[1],new RegExp(`^${r[2]}(?=/${e})`)]:[t,r[1],new RegExp(`^${r[2]}$`)];else Ht[n]=[t,r[1],!0];return Ht[n]}return null},pt=(t,e)=>{try{return e(t)}catch{return t.replace(/(?:%[0-9A-Fa-f]{2})+/g,(r)=>{try{return e(r)}catch{return r}})}},rn=(t)=>pt(t,decodeURI),ee=(t)=>{let e=t.url,r=e.indexOf("/",e.charCodeAt(9)===58?13:8),n=r;for(;n<e.length;n++){let s=e.charCodeAt(n);if(s===37){let i=e.indexOf("?",n),a=e.slice(r,i===-1?void 0:i);return rn(a.includes("%25")?a.replace(/%25/g,"%2525"):a)}else if(s===63)break}return e.slice(r,n)};var er=(t)=>{let e=ee(t);return e.length>1&&e.at(-1)==="/"?e.slice(0,-1):e},U=(t,e,...r)=>{if(r.length)e=U(e,...r);return`${t?.[0]==="/"?"":"/"}${t}${e==="/"?"":`${t?.at(-1)==="/"?"":"/"}${e?.[0]==="/"?e.slice(1):e}`}`},Ct=(t)=>{if(t.charCodeAt(t.length-1)!==63||!t.includes(":"))return null;let e=t.split("/"),r=[],n="";return e.forEach((s)=>{if(s!==""&&!/\:/.test(s))n+="/"+s;else if(/\:/.test(s))if(/\?/.test(s)){if(r.length===0&&n==="")r.push("/");else r.push(n);let i=s.replace("?","");n+="/"+i,r.push(n)}else n+="/"+s}),r.filter((s,i,a)=>a.indexOf(s)===i)},Vt=(t)=>{if(!/[%+]/.test(t))return t;if(t.indexOf("+")!==-1)t=t.replace(/\+/g," ");return t.indexOf("%")!==-1?pt(t,re):t},rr=(t,e,r)=>{let n;if(!r&&e&&!/[%+]/.test(e)){let a=t.indexOf(`?${e}`,8);if(a===-1)a=t.indexOf(`&${e}`,8);while(a!==-1){let o=t.charCodeAt(a+e.length+1);if(o===61){let c=a+e.length+2,l=t.indexOf("&",c);return Vt(t.slice(c,l===-1?void 0:l))}else if(o==38||isNaN(o))return"";a=t.indexOf(`&${e}`,a+1)}if(n=/[%+]/.test(t),!n)return}let s={};n??=/[%+]/.test(t);let i=t.indexOf("?",8);while(i!==-1){let a=t.indexOf("&",i+1),o=t.indexOf("=",i);if(o>a&&a!==-1)o=-1;let c=t.slice(i+1,o===-1?a===-1?void 0:a:o);if(n)c=Vt(c);if(i=a,c==="")continue;let l;if(o===-1)l="";else if(l=t.slice(o+1,a===-1?void 0:a),n)l=Vt(l);if(r){if(!(s[c]&&Array.isArray(s[c])))s[c]=[];s[c].push(l)}else s[c]??=l}return e?s[e]:s},nr=rr,sr=(t,e)=>{return rr(t,e,!0)},re=decodeURIComponent;var ir=(t)=>pt(t,re),At=class{raw;#t;#e;routeIndex=0;path;bodyCache={};constructor(t,e="/",r=[[]]){this.raw=t,this.path=e,this.#e=r,this.#t={}}param(t){return t?this.#r(t):this.#i()}#r(t){let e=this.#e[0][this.routeIndex][1][t],r=this.#s(e);return r?/\%/.test(r)?ir(r):r:void 0}#i(){let t={},e=Object.keys(this.#e[0][this.routeIndex][1]);for(let r of e){let n=this.#s(this.#e[0][this.routeIndex][1][r]);if(n&&typeof n==="string")t[r]=/\%/.test(n)?ir(n):n}return t}#s(t){return this.#e[1]?this.#e[1][t]:t}query(t){return nr(this.url,t)}queries(t){return sr(this.url,t)}header(t){if(t)return this.raw.headers.get(t)??void 0;let e={};return this.raw.headers.forEach((r,n)=>{e[n]=r}),e}async parseBody(t){return this.bodyCache.parsedBody??=await De(this,t)}#n=(t)=>{let{bodyCache:e,raw:r}=this,n=e[t];if(n)return n;let s=Object.keys(e)[0];if(s)return e[s].then((i)=>{if(s==="json")i=JSON.stringify(i);return new Response(i)[t]()});return e[t]=r[t]()};json(){return this.#n("json")}text(){return this.#n("text")}arrayBuffer(){return this.#n("arrayBuffer")}blob(){return this.#n("blob")}formData(){return this.#n("formData")}addValidatedData(t,e){this.#t[t]=e}valid(t){return this.#t[t]}get url(){return this.raw.url}get method(){return this.raw.method}get[je](){return this.#e}get matchedRoutes(){return this.#e[0].map(([[,t]])=>t)}get routePath(){return this.#e[0].map(([[,t]])=>t)[this.routeIndex].path}};var nn="text/plain; charset=UTF-8",ne=(t,e)=>{return{"Content-Type":t,...e}},ar=class{#t;#e;env={};#r;finalized=!1;error;#i;#s;#n;#f;#c;#l;#o;#u;#v;constructor(t,e){if(this.#t=t,e)this.#s=e.executionCtx,this.env=e.env,this.#l=e.notFoundHandler,this.#v=e.path,this.#u=e.matchResult}get req(){return this.#e??=new At(this.#t,this.#v,this.#u),this.#e}get event(){if(this.#s&&"respondWith"in this.#s)return this.#s;else throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#s)return this.#s;else throw Error("This context has no ExecutionContext")}get res(){return this.#n||=new Response(null,{headers:this.#o??=new Headers})}set res(t){if(this.#n&&t){t=new Response(t.body,t);for(let[e,r]of this.#n.headers.entries()){if(e==="content-type")continue;if(e==="set-cookie"){let n=this.#n.headers.getSetCookie();t.headers.delete("set-cookie");for(let s of n)t.headers.append("set-cookie",s)}else t.headers.set(e,r)}}this.#n=t,this.finalized=!0}render=(...t)=>{return this.#c??=(e)=>this.html(e),this.#c(...t)};setLayout=(t)=>this.#f=t;getLayout=()=>this.#f;setRenderer=(t)=>{this.#c=t};header=(t,e,r)=>{if(this.finalized)this.#n=new Response(this.#n.body,this.#n);let n=this.#n?this.#n.headers:this.#o??=new Headers;if(e===void 0)n.delete(t);else if(r?.append)n.append(t,e);else n.set(t,e)};status=(t)=>{this.#i=t};set=(t,e)=>{this.#r??=new Map,this.#r.set(t,e)};get=(t)=>{return this.#r?this.#r.get(t):void 0};get var(){if(!this.#r)return{};return Object.fromEntries(this.#r)}#a(t,e,r){let n=this.#n?new Headers(this.#n.headers):this.#o??new Headers;if(typeof e==="object"&&"headers"in e){let i=e.headers instanceof Headers?e.headers:new Headers(e.headers);for(let[a,o]of i)if(a.toLowerCase()==="set-cookie")n.append(a,o);else n.set(a,o)}if(r)for(let[i,a]of Object.entries(r))if(typeof a==="string")n.set(i,a);else{n.delete(i);for(let o of a)n.append(i,o)}let s=typeof e==="number"?e:e?.status??this.#i;return new Response(t,{status:s,headers:n})}newResponse=(...t)=>this.#a(...t);body=(t,e,r)=>this.#a(t,e,r);text=(t,e,r)=>{return!this.#o&&!this.#i&&!e&&!r&&!this.finalized?new Response(t):this.#a(t,e,ne(nn,r))};json=(t,e,r)=>{return this.#a(JSON.stringify(t),e,ne("application/json",r))};html=(t,e,r)=>{let n=(s)=>this.#a(s,e,ne("text/html; charset=UTF-8",r));return typeof t==="object"?q(t,N.Stringify,!1,{}).then(n):n(t)};redirect=(t,e)=>{return this.header("Location",String(t)),this.newResponse(null,e??302)};notFound=()=>{return this.#l??=()=>new Response,this.#l(this)}};var A="ALL",or="all",cr=["get","post","put","delete","options","patch"],Ot="Can not add a route since the matcher is already built.",bt=class extends Error{};var se="__COMPOSED_HANDLER";var sn=(t)=>{return t.text("404 Not Found",404)},lr=(t,e)=>{if("getResponse"in t){let r=t.getResponse();return e.newResponse(r.body,r)}return console.error(t),e.text("Internal Server Error",500)},ie=class{get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#t="/";routes=[];constructor(t={}){[...cr,or].forEach((s)=>{this[s]=(i,...a)=>{if(typeof i==="string")this.#t=i;else this.#i(s,this.#t,i);return a.forEach((o)=>{this.#i(s,this.#t,o)}),this}}),this.on=(s,i,...a)=>{for(let o of[i].flat()){this.#t=o;for(let c of[s].flat())a.map((l)=>{this.#i(c.toUpperCase(),this.#t,l)})}return this},this.use=(s,...i)=>{if(typeof s==="string")this.#t=s;else this.#t="*",i.unshift(s);return i.forEach((a)=>{this.#i(A,this.#t,a)}),this};let{strict:r,...n}=t;Object.assign(this,n),this.getPath=r??!0?t.getPath??ee:er}#e(){let t=new ie({router:this.router,getPath:this.getPath});return t.errorHandler=this.errorHandler,t.#r=this.#r,t.routes=this.routes,t}#r=sn;errorHandler=lr;route(t,e){let r=this.basePath(t);return e.routes.map((n)=>{let s;if(e.errorHandler===lr)s=n.handler;else s=async(i,a)=>(await Dt([],e.errorHandler)(i,()=>n.handler(i,a))).res,s[se]=n.handler;r.#i(n.method,n.path,s)}),this}basePath(t){let e=this.#e();return e._basePath=U(this._basePath,t),e}onError=(t)=>{return this.errorHandler=t,this};notFound=(t)=>{return this.#r=t,this};mount(t,e,r){let n,s;if(r)if(typeof r==="function")s=r;else if(s=r.optionHandler,r.replaceRequest===!1)n=(o)=>o;else n=r.replaceRequest;let i=s?(o)=>{let c=s(o);return Array.isArray(c)?c:[c]}:(o)=>{let c=void 0;try{c=o.executionCtx}catch{}return[o.env,c]};n||=(()=>{let o=U(this._basePath,t),c=o==="/"?0:o.length;return(l)=>{let v=new URL(l.url);return v.pathname=v.pathname.slice(c)||"/",new Request(v,l)}})();let a=async(o,c)=>{let l=await e(n(o.req.raw),...i(o));if(l)return l;await c()};return this.#i(A,U(t,"*"),a),this}#i(t,e,r){t=t.toUpperCase(),e=U(this._basePath,e);let n={basePath:this._basePath,path:e,method:t,handler:r};this.router.add(t,e,[r,n]),this.routes.push(n)}#s(t,e){if(t instanceof Error)return this.errorHandler(t,e);throw t}#n(t,e,r,n){if(n==="HEAD")return(async()=>new Response(null,await this.#n(t,e,r,"GET")))();let s=this.getPath(t,{env:r}),i=this.router.match(n,s),a=new ar(t,{path:s,matchResult:i,env:r,executionCtx:e,notFoundHandler:this.#r});if(i[0].length===1){let c;try{c=i[0][0][0][0](a,async()=>{a.res=await this.#r(a)})}catch(l){return this.#s(l,a)}return c instanceof Promise?c.then((l)=>l||(a.finalized?a.res:this.#r(a))).catch((l)=>this.#s(l,a)):c??this.#r(a)}let o=Dt(i[0],this.errorHandler,this.#r);return(async()=>{try{let c=await o(a);if(!c.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return c.res}catch(c){return this.#s(c,a)}})()}fetch=(t,...e)=>{return this.#n(t,e[1],e[0],t.method)};request=(t,e,r,n)=>{if(t instanceof Request)return this.fetch(e?new Request(t,e):t,r,n);return t=t.toString(),this.fetch(new Request(/^https?:\/\//.test(t)?t:`http://localhost${U("/",t)}`,e),r,n)};fire=()=>{addEventListener("fetch",(t)=>{t.respondWith(this.#n(t.request,t,void 0,t.request.method))})}};var Tt="[^/]+",ot=".*",ct="(?:|/.*)",X=Symbol(),an=new Set(".\\+*[^]$()");function on(t,e){if(t.length===1)return e.length===1?t<e?-1:1:-1;if(e.length===1)return 1;if(t===ot||t===ct)return 1;else if(e===ot||e===ct)return-1;if(t===Tt)return 1;else if(e===Tt)return-1;return t.length===e.length?t<e?-1:1:e.length-t.length}var _t=class{#t;#e;#r=Object.create(null);insert(t,e,r,n,s){if(t.length===0){if(this.#t!==void 0)throw X;if(s)return;this.#t=e;return}let[i,...a]=t,o=i==="*"?a.length===0?["","",ot]:["","",Tt]:i==="/*"?["","",ct]:i.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),c;if(o){let l=o[1],v=o[2]||Tt;if(l&&o[2]){if(v=v.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(v))throw X}if(c=this.#r[v],!c){if(Object.keys(this.#r).some((u)=>u!==ot&&u!==ct))throw X;if(s)return;if(c=this.#r[v]=new _t,l!=="")c.#e=n.varIndex++}if(!s&&l!=="")r.push([l,c.#e])}else if(c=this.#r[i],!c){if(Object.keys(this.#r).some((l)=>l.length>1&&l!==ot&&l!==ct))throw X;if(s)return;c=this.#r[i]=new _t}c.insert(a,e,r,n,s)}buildRegExpStr(){let e=Object.keys(this.#r).sort(on).map((r)=>{let n=this.#r[r];return(typeof n.#e==="number"?`(${r})@${n.#e}`:an.has(r)?`\\${r}`:r)+n.buildRegExpStr()});if(typeof this.#t==="number")e.unshift(`#${this.#t}`);if(e.length===0)return"";if(e.length===1)return e[0];return"(?:"+e.join("|")+")"}};var fr=class{#t={varIndex:0};#e=new _t;insert(t,e,r){let n=[],s=[];for(let a=0;;){let o=!1;if(t=t.replace(/\{[^}]+\}/g,(c)=>{let l=`@\\${a}`;return s[a]=[l,c],a++,o=!0,l}),!o)break}let i=t.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let a=s.length-1;a>=0;a--){let[o]=s[a];for(let c=i.length-1;c>=0;c--)if(i[c].indexOf(o)!==-1){i[c]=i[c].replace(o,s[a][1]);break}}return this.#e.insert(i,e,n,this.#t,r),n}buildRegExp(){let t=this.#e.buildRegExpStr();if(t==="")return[/^$/,[],[]];let e=0,r=[],n=[];return t=t.replace(/#(\d+)|@(\d+)|\.\*\$/g,(s,i,a)=>{if(i!==void 0)return r[++e]=Number(i),"$()";if(a!==void 0)return n[Number(a)]=++e,"";return""}),[new RegExp(`^${t}`),r,n]}};var ur=[],cn=[/^$/,[],Object.create(null)],vr=Object.create(null);function hr(t){return vr[t]??=new RegExp(t==="*"?"":`^${t.replace(/\/\*$|([.\\+*[^\]$()])/g,(e,r)=>r?`\\${r}`:"(?:|/.*)")}$`)}function ln(){vr=Object.create(null)}function fn(t){let e=new fr,r=[];if(t.length===0)return cn;let n=t.map((l)=>[!/\*|\/:/.test(l[0]),...l]).sort(([l,v],[u,h])=>l?1:u?-1:v.length-h.length),s=Object.create(null);for(let l=0,v=-1,u=n.length;l<u;l++){let[h,m,d]=n[l];if(h)s[m]=[d.map(([H])=>[H,Object.create(null)]),ur];else v++;let g;try{g=e.insert(m,v,h)}catch(H){throw H===X?new bt(m):H}if(h)continue;r[v]=d.map(([H,p])=>{let R=Object.create(null);p-=1;for(;p>=0;p--){let[y,w]=g[p];R[y]=w}return[H,R]})}let[i,a,o]=e.buildRegExp();for(let l=0,v=r.length;l<v;l++)for(let u=0,h=r[l].length;u<h;u++){let m=r[l][u]?.[1];if(!m)continue;let d=Object.keys(m);for(let g=0,H=d.length;g<H;g++)m[d[g]]=o[m[d[g]]]}let c=[];for(let l in a)c[l]=r[a[l]];return[i,c,s]}function Y(t,e){if(!t)return;for(let r of Object.keys(t).sort((n,s)=>s.length-n.length))if(hr(r).test(e))return[...t[r]];return}var ae=class{name="RegExpRouter";#t;#e;constructor(){this.#t={[A]:Object.create(null)},this.#e={[A]:Object.create(null)}}add(t,e,r){let n=this.#t,s=this.#e;if(!n||!s)throw new Error(Ot);if(!n[t])[n,s].forEach((o)=>{o[t]=Object.create(null),Object.keys(o[A]).forEach((c)=>{o[t][c]=[...o[A][c]]})});if(e==="/*")e="*";let i=(e.match(/\/:/g)||[]).length;if(/\*$/.test(e)){let o=hr(e);if(t===A)Object.keys(n).forEach((c)=>{n[c][e]||=Y(n[c],e)||Y(n[A],e)||[]});else n[t][e]||=Y(n[t],e)||Y(n[A],e)||[];Object.keys(n).forEach((c)=>{if(t===A||t===c)Object.keys(n[c]).forEach((l)=>{o.test(l)&&n[c][l].push([r,i])})}),Object.keys(s).forEach((c)=>{if(t===A||t===c)Object.keys(s[c]).forEach((l)=>o.test(l)&&s[c][l].push([r,i]))});return}let a=Ct(e)||[e];for(let o=0,c=a.length;o<c;o++){let l=a[o];Object.keys(s).forEach((v)=>{if(t===A||t===v)s[v][l]||=[...Y(n[v],l)||Y(n[A],l)||[]],s[v][l].push([r,i-c+o+1])})}}match(t,e){ln();let r=this.#r();return this.match=(n,s)=>{let i=r[n]||r[A],a=i[2][s];if(a)return a;let o=s.match(i[0]);if(!o)return[[],ur];let c=o.indexOf("",1);return[i[1][c],o]},this.match(t,e)}#r(){let t=Object.create(null);return Object.keys(this.#e).concat(Object.keys(this.#t)).forEach((e)=>{t[e]||=this.#i(e)}),this.#t=this.#e=void 0,t}#i(t){let e=[],r=t===A;if([this.#t,this.#e].forEach((n)=>{let s=n[t]?Object.keys(n[t]).map((i)=>[i,n[t][i]]):[];if(s.length!==0)r||=!0,e.push(...s);else if(t!==A)e.push(...Object.keys(n[A]).map((i)=>[i,n[A][i]]))}),!r)return null;else return fn(e)}};var oe=class{name="SmartRouter";#t=[];#e=[];constructor(t){this.#t=t.routers}add(t,e,r){if(!this.#e)throw new Error(Ot);this.#e.push([t,e,r])}match(t,e){if(!this.#e)throw new Error("Fatal error");let r=this.#t,n=this.#e,s=r.length,i=0,a;for(;i<s;i++){let o=r[i];try{for(let c=0,l=n.length;c<l;c++)o.add(...n[c]);a=o.match(t,e)}catch(c){if(c instanceof bt)continue;throw c}this.match=o.match.bind(o),this.#t=[o],this.#e=void 0;break}if(i===s)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,a}get activeRouter(){if(this.#e||this.#t.length!==1)throw new Error("No active router has been determined yet.");return this.#t[0]}};var lt=Object.create(null),ce=class{#t;#e;#r;#i=0;#s=lt;constructor(t,e,r){if(this.#e=r||Object.create(null),this.#t=[],t&&e){let n=Object.create(null);n[t]={handler:e,possibleKeys:[],score:0},this.#t=[n]}this.#r=[]}insert(t,e,r){this.#i=++this.#i;let n=this,s=Ve(e),i=[];for(let a=0,o=s.length;a<o;a++){let c=s[a],l=s[a+1],v=tr(c,l),u=Array.isArray(v)?v[0]:c;if(u in n.#e){if(n=n.#e[u],v)i.push(v[1]);continue}if(n.#e[u]=new ce,v)n.#r.push(v),i.push(v[1]);n=n.#e[u]}return n.#t.push({[t]:{handler:r,possibleKeys:i.filter((a,o,c)=>c.indexOf(a)===o),score:this.#i}}),n}#n(t,e,r,n){let s=[];for(let i=0,a=t.#t.length;i<a;i++){let o=t.#t[i],c=o[e]||o[A],l={};if(c!==void 0){if(c.params=Object.create(null),s.push(c),r!==lt||n&&n!==lt)for(let v=0,u=c.possibleKeys.length;v<u;v++){let h=c.possibleKeys[v],m=l[c.score];c.params[h]=n?.[h]&&!m?n[h]:r[h]??n?.[h],l[c.score]=!0}}}return s}search(t,e){let r=[];this.#s=lt;let s=[this],i=te(e),a=[];for(let o=0,c=i.length;o<c;o++){let l=i[o],v=o===c-1,u=[];for(let h=0,m=s.length;h<m;h++){let d=s[h],g=d.#e[l];if(g)if(g.#s=d.#s,v){if(g.#e["*"])r.push(...this.#n(g.#e["*"],t,d.#s));r.push(...this.#n(g,t,d.#s))}else u.push(g);for(let H=0,p=d.#r.length;H<p;H++){let R=d.#r[H],y=d.#s===lt?{}:{...d.#s};if(R==="*"){let b=d.#e["*"];if(b)r.push(...this.#n(b,t,d.#s)),b.#s=y,u.push(b);continue}if(!l)continue;let[w,C,$]=R,O=d.#e[w],J=i.slice(o).join("/");if($ instanceof RegExp){let b=$.exec(J);if(b){if(y[C]=b[0],r.push(...this.#n(O,t,d.#s,y)),Object.keys(O.#e).length){O.#s=y;let ft=b[0].match(/\//)?.length??0;(a[ft]||=[]).push(O)}continue}}if($===!0||$.test(l))if(y[C]=l,v){if(r.push(...this.#n(O,t,y,d.#s)),O.#e["*"])r.push(...this.#n(O.#e["*"],t,y,d.#s))}else O.#s=y,u.push(O)}}s=u.concat(a.shift()??[])}if(r.length>1)r.sort((o,c)=>{return o.score-c.score});return[r.map(({handler:o,params:c})=>[o,c])]}};var le=class{name="TrieRouter";#t;constructor(){this.#t=new ce}add(t,e,r){let n=Ct(e);if(n){for(let s=0,i=n.length;s<i;s++)this.#t.insert(t,n[s],r);return}this.#t.insert(t,e,r)}match(t,e){return this.#t.search(t,e)}};var fe=class extends ie{constructor(t={}){super(t);this.router=t.router??new oe({routers:[new ae,new le]})}};var{stat:gn}=(()=>({}));var dr=/^\s*(?:text\/(?!event-stream(?:[;\s]|$))[^;\s]+|application\/(?:javascript|json|xml|xml-dtd|ecmascript|dart|postscript|rtf|tar|toml|vnd\.dart|vnd\.ms-fontobject|vnd\.ms-opentype|wasm|x-httpd-php|x-javascript|x-ns-proxy-autoconfig|x-sh|x-tar|x-virtualbox-hdd|x-virtualbox-ova|x-virtualbox-ovf|x-virtualbox-vbox|x-virtualbox-vdi|x-virtualbox-vhd|x-virtualbox-vmdk|x-www-form-urlencoded)|font\/(?:otf|ttf)|image\/(?:bmp|vnd\.adobe\.photoshop|vnd\.microsoft\.icon|vnd\.ms-dds|x-icon|x-ms-bmp)|message\/rfc822|model\/gltf-binary|x-shader\/x-fragment|x-shader\/x-vertex|[^;\s]+?\+(?:json|text|xml|yaml))(?:[;\s]|$)/i;var mr=(t)=>{let e=t.filename,r=t.defaultDocument||"index.html";if(e.endsWith("/"))e=e.concat(r);else if(!e.match(/\.[a-zA-Z0-9_-]+$/))e=e.concat("/"+r);return Nt({root:t.root,filename:e})},Nt=(t)=>{let e=t.root||"",r=t.filename;if(/(?:^|[\/\\])\.\.(?:$|[\/\\])/.test(r))return;r=r.replace(/^\.?[\/\\]/,""),r=r.replace(/\\/,"/"),e=e.replace(/\/$/,"");let n=e?e+"/"+r:r;if(n=n.replace(/^\.?\//,""),e[0]!=="/"&&n[0]==="/")return;return n};var ue=(t,e=vn)=>{let r=/\.([a-zA-Z0-9]+?)$/,n=t.match(r);if(!n)return;let s=e[n[1]];if(s&&s.startsWith("text"))s+="; charset=utf-8";return s};var un={aac:"audio/aac",avi:"video/x-msvideo",avif:"image/avif",av1:"video/av1",bin:"application/octet-stream",bmp:"image/bmp",css:"text/css",csv:"text/csv",eot:"application/vnd.ms-fontobject",epub:"application/epub+zip",gif:"image/gif",gz:"application/gzip",htm:"text/html",html:"text/html",ico:"image/x-icon",ics:"text/calendar",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",jsonld:"application/ld+json",map:"application/json",mid:"audio/x-midi",midi:"audio/x-midi",mjs:"text/javascript",mp3:"audio/mpeg",mp4:"video/mp4",mpeg:"video/mpeg",oga:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",opus:"audio/opus",otf:"font/otf",pdf:"application/pdf",png:"image/png",rtf:"application/rtf",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",ts:"video/mp2t",ttf:"font/ttf",txt:"text/plain",wasm:"application/wasm",webm:"video/webm",weba:"audio/webm",webmanifest:"application/manifest+json",webp:"image/webp",woff:"font/woff",woff2:"font/woff2",xhtml:"application/xhtml+xml",xml:"application/xml",zip:"application/zip","3gp":"video/3gpp","3g2":"video/3gpp2",gltf:"model/gltf+json",glb:"model/gltf-binary"},vn=un;var gr={br:".br",zstd:".zst",gzip:".gz"},hn=Object.keys(gr),dn="index.html",mn=(t)=>t,yr=(t)=>{let e=!1,r;if(t.root)if(t.root.startsWith("/"))e=!0,r=new URL(`file://${t.root}`).pathname;else r=t.root;return async(n,s)=>{if(n.finalized){await s();return}let i=t.path??decodeURI(n.req.path);if(i=t.rewriteRequestPath?t.rewriteRequestPath(i):i,!i.endsWith("/")&&t.isDir){let v=Nt({filename:i,root:r});if(v&&await t.isDir(v))i+="/"}let a=mr({filename:i,root:r,defaultDocument:dn});if(!a)return await s();if(e)a="/"+a;let o=t.getContent,c=t.pathResolve??mn;a=c(a);let l=await o(a,n);if(!l){let v=Nt({filename:i,root:r});if(!v)return await s();if(v=c(v),v!==a){if(l=await o(v,n),l)a=v}}if(l instanceof Response)return n.newResponse(l.body,l);if(l){let v=t.mimes&&ue(a,t.mimes)||ue(a);if(n.header("Content-Type",v||"application/octet-stream"),t.precompressed&&(!v||dr.test(v))){let u=new Set(n.req.header("Accept-Encoding")?.split(",").map((h)=>h.trim()));for(let h of hn){if(!u.has(h))continue;let m=await o(a+gr[h],n);if(m){l=m,n.header("Content-Encoding",h),n.header("Vary","Accept-Encoding",{append:!0});break}}}return await t.onFound?.(a,n),n.body(l)}await t.onNotFound?.(a,n),await s();return}};var ve=(t)=>{return async function e(r,n){return yr({...t,getContent:async(o)=>{o=o.startsWith("/")?o:`./${o}`;let c=Bun.file(o);return await c.exists()?c:null},pathResolve:(o)=>{return o.startsWith("/")?o:`./${o}`},isDir:async(o)=>{let c;try{c=(await gn(o)).isDirectory()}catch{}return c}})(r,n)}};var he="x-hono-disable-ssg",qa=(()=>{try{return new Response("SSG is disabled",{status:404,headers:{[he]:"true"}})}catch{return null}})();var{write:go}=Bun;var yn=class{#t;constructor(t){this.#t=t,this.raw=t.raw,this.url=t.url?new URL(t.url):null,this.protocol=t.protocol??null}send(t,e){this.#t.send(t,e??{})}raw;binaryType="arraybuffer";get readyState(){return this.#t.readyState}url;protocol;close(t,e){this.#t.close(t,e)}};function f(t,e,r){let n;if(!e||!("children"in e))n=mt(t,e,[]);else{let s=e.children;n=Array.isArray(s)?mt(t,e,s):mt(t,e,[s])}return n.key=r,n}var wr=(t)=>f("html",{lang:"en",children:[f("head",{children:[f("meta",{charset:"utf-8"},void 0,!1,void 0,this),f("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"},void 0,!1,void 0,this),f("title",{children:t.title},void 0,!1,void 0,this),f("meta",{name:"description",content:t.desc},void 0,!1,void 0,this),f("link",{rel:"stylesheet",href:"style.css"},void 0,!1,void 0,this),f("script",{src:"app.js"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),f("body",{children:f("div",{children:t.children},void 0,!1,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this);var Sr=()=>f(Q,{children:f("main",{children:[f("div",{id:"restart-overlay",class:"hidden",children:f("div",{class:"restart-message",children:[f("h2",{children:"Restarting Service..."},void 0,!1,void 0,this),f("p",{children:"Please wait. This page will reload automatically in 5 seconds."},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this),f("div",{class:"container",children:[f("h1",{children:"StageBridge"},void 0,!1,void 0,this),f("section",{class:"card",children:[f("h2",{children:"Settings"},void 0,!1,void 0,this),f("div",{class:"form-grid",children:[f("label",{for:"midi-input",children:"MIDI Input:"},void 0,!1,void 0,this),f("select",{id:"midi-input"},void 0,!1,void 0,this),f("label",{for:"midi-output",children:"MIDI Output:"},void 0,!1,void 0,this),f("select",{id:"midi-output"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),f("button",{id:"save-and-restart-btn",children:"Save & Restart Service"},void 0,!1,void 0,this),f("div",{class:"config-management",children:f("p",{class:"small-text",style:"margin-top: 15px;",children:["For core network settings (IPs/Ports), use the dedicated admin page.",f("br",{},void 0,!1,void 0,this),f("a",{href:"/",target:"_blank",id:"admin-redirect",style:"color: red",children:"Open Network Admin Page"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this),f("div",{class:"config-management",children:[f("h3",{children:"Configuration Management"},void 0,!1,void 0,this),f("p",{class:"small-text",children:"Download a backup of your current configuration or upload a saved file."},void 0,!1,void 0,this),f("div",{class:"button-group",children:[f("button",{id:"download-config-btn",children:"Download Config"},void 0,!1,void 0,this),f("label",{for:"upload-config-input",class:"button-like-label",children:"Upload Full Config"},void 0,!1,void 0,this),f("input",{type:"file",id:"upload-config-input",accept:".json",hidden:!0},void 0,!1,void 0,this),f("span",{id:"upload-filename",children:"No file selected."},void 0,!1,void 0,this)]},void 0,!0,void 0,this),f("p",{class:"small-text",children:"Upload a JSON file containing only mappings. Existing mappings with the same OSC address will be overwritten."},void 0,!1,void 0,this),f("div",{class:"button-group",children:[f("label",{for:"upload-mappings-input",class:"button-like-label",children:"Upload Mappings Only"},void 0,!1,void 0,this),f("input",{type:"file",id:"upload-mappings-input",accept:".json",hidden:!0},void 0,!1,void 0,this),f("span",{id:"upload-mappings-filename",children:"No file selected."},void 0,!1,void 0,this)]},void 0,!0,void 0,this),f("p",{class:"warning-text",children:"Warning: Uploading full config or mappings will overwrite current data."},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),f("section",{class:"card",children:[f("h2",{children:"Song Importer"},void 0,!1,void 0,this),f("p",{class:"small-text",children:"Upload a song CSV to automatically generate mappings for patch changes, scenes, and footswitches."},void 0,!1,void 0,this),f("div",{id:"song-importer-form",children:[f("div",{class:"form-grid",children:[f("label",{for:"song-title",children:"Song Title:"},void 0,!1,void 0,this),f("input",{type:"text",id:"song-title",placeholder:"e.g., Uptown Funk",required:!0},void 0,!1,void 0,this),f("label",{for:"song-setlist",children:"Setlist Number (1-13):"},void 0,!1,void 0,this),f("input",{type:"number",id:"song-setlist",value:"1",min:"1",max:"13",required:!0},void 0,!1,void 0,this),f("label",{for:"song-csv-input",children:"Song CSV File:"},void 0,!1,void 0,this),f("input",{type:"file",id:"song-csv-input",accept:".csv",required:!0},void 0,!1,void 0,this)]},void 0,!0,void 0,this),f("button",{id:"process-song-btn",children:"Process & Add Mappings"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),f("section",{class:"card",children:[f("h2",{children:"Mappings"},void 0,!1,void 0,this),f("div",{class:"search-container",style:"margin-bottom: 15px;",children:[f("label",{for:"mapping-search-input",children:"Search Mappings:"},void 0,!1,void 0,this),f("input",{type:"text",id:"mapping-search-input",placeholder:"Filter by OSC address or description...",style:"width: 100%; padding: 8px; box-sizing: border-box; margin-top: 5px;"},void 0,!1,void 0,this)]},void 0,!0,void 0,this),f("table",{id:"mappings-table",children:[f("thead",{children:f("tr",{children:[f("th",{class:"checkbox-cell",children:f("input",{type:"checkbox",id:"select-all-checkbox"},void 0,!1,void 0,this)},void 0,!1,void 0,this),f("th",{children:"OSC Address"},void 0,!1,void 0,this),f("th",{children:"Description"},void 0,!1,void 0,this),f("th",{children:"Actions"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this),f("tbody",{},void 0,!1,void 0,this)]},void 0,!0,void 0,this),f("div",{class:"table-actions",children:[f("button",{id:"show-add-mapping-form-btn",children:"Add New Mapping"},void 0,!1,void 0,this),f("button",{id:"delete-selected-btn",class:"hidden danger",children:"Delete Selected"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),f("dialog",{id:"add-mapping-dialog",children:f("form",{id:"add-mapping-form",children:[f("h3",{id:"dialog-title",children:"New OSC Mapping"},void 0,!1,void 0,this),f("div",{class:"form-section",children:[f("label",{for:"osc-address",children:"OSC Address:"},void 0,!1,void 0,this),f("input",{type:"text",id:"osc-address",placeholder:"/song/my_song/intro",required:!0},void 0,!1,void 0,this)]},void 0,!0,void 0,this),f("div",{class:"form-section",children:[f("label",{for:"mapping-category",children:"Action Category:"},void 0,!1,void 0,this),f("select",{id:"mapping-category",children:[f("option",{value:"",children:"-- Select a Category --"},void 0,!1,void 0,this),f("option",{value:"patch",children:"Preset/Patch Change"},void 0,!1,void 0,this),f("option",{value:"scene",children:"Scene Select"},void 0,!1,void 0,this),f("option",{value:"footswitch",children:"Footswitch Toggle"},void 0,!1,void 0,this),f("option",{value:"mode_view",children:"Mode & View Control"},void 0,!1,void 0,this),f("option",{value:"looper",children:"Looper Control"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),f("div",{id:"dynamic-fields-container",children:[f("div",{id:"category-patch",class:"hidden",children:[f("label",{for:"patch-setlist",children:"Setlist (1-13):"},void 0,!1,void 0,this),f("input",{type:"number",id:"patch-setlist",value:"1",min:"1",max:"13"},void 0,!1,void 0,this),f("label",{for:"patch-number",children:"Patch Number (1-32):"},void 0,!1,void 0,this),f("input",{type:"number",id:"patch-number",value:"1",min:"1",max:"32"},void 0,!1,void 0,this),f("label",{for:"patch-letter",children:"Patch Letter (A-H):"},void 0,!1,void 0,this),f("select",{id:"patch-letter",children:[f("option",{value:"0",children:"A"},void 0,!1,void 0,this),f("option",{value:"1",children:"B"},void 0,!1,void 0,this),f("option",{value:"2",children:"C"},void 0,!1,void 0,this),f("option",{value:"3",children:"D"},void 0,!1,void 0,this),f("option",{value:"4",children:"E"},void 0,!1,void 0,this),f("option",{value:"5",children:"F"},void 0,!1,void 0,this),f("option",{value:"6",children:"G"},void 0,!1,void 0,this),f("option",{value:"7",children:"H"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),f("div",{id:"category-scene",class:"hidden",children:[f("label",{for:"scene-select",children:"Select Scene (A-H):"},void 0,!1,void 0,this),f("select",{id:"scene-select",children:[f("option",{value:"0",children:"A"},void 0,!1,void 0,this),f("option",{value:"1",children:"B"},void 0,!1,void 0,this),f("option",{value:"2",children:"C"},void 0,!1,void 0,this),f("option",{value:"3",children:"D"},void 0,!1,void 0,this),f("option",{value:"4",children:"E"},void 0,!1,void 0,this),f("option",{value:"5",children:"F"},void 0,!1,void 0,this),f("option",{value:"6",children:"G"},void 0,!1,void 0,this),f("option",{value:"7",children:"H"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),f("div",{id:"category-footswitch",class:"hidden",children:[f("label",{for:"footswitch-select",children:"Select Footswitch (A-H):"},void 0,!1,void 0,this),f("select",{id:"footswitch-select",children:[f("option",{value:"35",children:"A"},void 0,!1,void 0,this),f("option",{value:"36",children:"B"},void 0,!1,void 0,this),f("option",{value:"37",children:"C"},void 0,!1,void 0,this),f("option",{value:"38",children:"D"},void 0,!1,void 0,this),f("option",{value:"39",children:"E"},void 0,!1,void 0,this),f("option",{value:"40",children:"F"},void 0,!1,void 0,this),f("option",{value:"41",children:"G"},void 0,!1,void 0,this),f("option",{value:"42",children:"H"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),f("div",{id:"category-mode_view",class:"hidden",children:[f("label",{for:"mode-view-select",children:"Select Action:"},void 0,!1,void 0,this),f("select",{id:"mode-view-select",children:[f("option",{value:"mode_preset",children:"Switch to Preset Mode"},void 0,!1,void 0,this),f("option",{value:"mode_scene",children:"Switch to Scene Mode"},void 0,!1,void 0,this),f("option",{value:"mode_stomp",children:"Switch to Stomp Mode"},void 0,!1,void 0,this),f("option",{value:"tuner_on",children:"Turn Tuner On"},void 0,!1,void 0,this),f("option",{value:"tuner_off",children:"Turn Tuner Off"},void 0,!1,void 0,this),f("option",{value:"gig_view_on",children:"Turn Gig View On"},void 0,!1,void 0,this),f("option",{value:"gig_view_off",children:"Turn Gig View Off"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),f("div",{id:"category-looper",class:"hidden",children:[f("label",{for:"looper-select",children:"Select Looper Action:"},void 0,!1,void 0,this),f("select",{id:"looper-select",children:[f("option",{value:"rec_stop",children:"Record / Overdub / Stop"},void 0,!1,void 0,this),f("option",{value:"play_stop",children:"Play / Stop"},void 0,!1,void 0,this),f("option",{value:"undo_redo",children:"Undo / Redo"},void 0,!1,void 0,this),f("option",{value:"half_speed",children:"Toggle Half Speed"},void 0,!1,void 0,this),f("option",{value:"reverse",children:"Toggle Reverse"},void 0,!1,void 0,this),f("option",{value:"one_shot",children:"Toggle One Shot"},void 0,!1,void 0,this),f("option",{value:"looper_menu_open",children:"Open Looper Menu"},void 0,!1,void 0,this),f("option",{value:"looper_menu_close",children:"Close Looper Menu"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this),f("div",{class:"dialog-actions",children:[f("button",{type:"button",id:"cancel-add-mapping-btn",children:"Cancel"},void 0,!1,void 0,this),f("button",{type:"submit",id:"dialog-submit-btn",children:"Create Mapping"},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this)]},void 0,!0,void 0,this)]},void 0,!0,void 0,this)},void 0,!1,void 0,this);var $t=new fe;$t.use("/*",ve({root:"./public"}));$t.get("/",(t)=>{return t.html(f(wr,{title:"StageBridge",desc:"stagebridge dev",children:f(Sr,{},void 0,!1,void 0,this)},void 0,!1,void 0,this))});$t.all("*",(t)=>{let e=t.req.path,r=t.req.header("referer")||"direct";return console.log(`Redirecting unmatched path: ${e} (referred from: ${r}) to homepage`),t.redirect("/")});var Do=$t;export{Do as default};
